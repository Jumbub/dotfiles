#!/usr/bin/env zsh

alias v="nvim"
alias vim="nvim"
alias cleanvim="nvim -u NONE"

alias va="nvim $HOME/.aliases"
alias vma="nvim $HOME/.machine-aliases"
alias vinstall="nvim $HOME/scripts/install"
alias vreplace="nvim $HOME/scripts/replace"
alias vrc="nvim $HOME/.zshrc"
alias vawe="nvim -S '$HOME/workspaces/vim/\%home\%jamie\%.config\%awesome.vim'"
alias vkitty="nvim -S '$HOME/workspaces/vim/\%home\%jamie\%.config\%kitty.vim'"
alias vp="nvim -S '$HOME/workspaces/vim/\%home\%jamie\%.config\%nvim.vim'"
alias vs="nvim -S '$HOME/workspaces/vim/\%home\%jamie\%scripts.vim'"

alias src="source $HOME/.zshrc"
alias replace="$HOME/scripts/replace"
alias confirm="$HOME/scripts/confirm"

alias bitpass="bitwarden-dmenu --clear-clipboard 30 --session-timeout 100 --sync-vault-after 3600 --on-error 'xargs notify-send --urgency=low'"


function haveigot {
  type "$1" > /dev/null
}

function jt {
  sensible-browser "https://hejira.atlassian.net/browse/`git symbolic-ref HEAD --short`"
}

alias gl="git log"
alias gm="git merge"
alias gmom="git fetch && git merge origin/master"
alias gmod="git fetch && git merge origin/develop"
alias gf="git fetch"
alias glp="git log -p"
alias gp="git push"
alias gpl="git pull"
alias ggp="git branch | grep \\* | cut -d ' ' -f2 | xargs -i git push --set-upstream origin {}"
alias gca="git commit --amend"
alias gc="git commit"
alias gcl="git clean -f -d"
function gcmm { GCM="$@"; git commit -m "$GCM"; unset GCM; };
function gcm { GCM="$@"; git commit -m "`git symbolic-ref HEAD --short` $GCM"; unset GCM; };
alias gco="git checkout"
alias gcob="git checkout -b"
alias gcop="git checkout . -p"
alias grb="git rebase"
alias grbomi="git rebase origin/master -i"
alias gr="git reset"
alias grh="git reset HEAD^"
function grhom { git reset --hard "origin/`git symbolic-ref HEAD --short`" $@ };
alias gst="git stash"
alias gstp="git stash push"
alias gstu="git stash --include-untracked"
function gstm { GSM="$@"; git stash push -u -m "$GSM"; unset GSM; };
alias ga="git add"
alias gap="git add -NpA"
alias gaa="git add -A"
alias gs="git status"
alias gd="git diff"

function codejamjs {

  mkdir -p "$HOME/challenges/$1";
  cd "$HOME/challenges/$1";
  touch in;
  echo wrong > out;
  cp "$HOME/challenges/template/sol.js" .;

  kitty watch -t -n 5 "node sol.js < in >.out && cat .out" &;

  kitty watch -t -n 1 "echo 'challenge' && echo 'input' && cat in && echo 'expected output' && cat out && echo 'output' && cat .out" &
#git diff > /dev/null out .out && echo Matches || echo Does not match
}

alias img="kitty +kitten icat"

source $HOME/scripts/dotfiles

if [ -f $HOME/.machine-aliases ]
then
  source $HOME/.machine-aliases
fi

