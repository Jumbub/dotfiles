#!/usr/bin/env zsh

# Zsh
alias src="source $HOME/.zshrc"
function haveigot {
  command -v $1 > /dev/null
}

# Kitty
if [[ "$TERM" == "xterm-kitty" ]]
then
  alias setFontSize="kitty @ set-font-size"
  alias img="kitty +kitten icat"
  alias ssh="kitty +kitten ssh"
fi

# Neovim
alias v="nvim"
alias va="nvim $HOME/.aliases"
alias vrc="nvim $HOME/.zshrc"
alias venv="nvim $HOME/.zshenv"

# Git
alias gl="git log"
alias gm="git merge"
alias gf="git fetch"
alias glp="git log -p"
alias gp="git push"
alias gpl="git pull"
alias ggp="git branch | grep \\* | cut -d ' ' -f2 | xargs -i git push --set-upstream origin {}"
alias gca="git commit --amend"
alias gc="git commit"
function gcm { local MSG="$@"; git commit -m "$MSG"; };
alias gco="git checkout"
alias gcob="git checkout -b"
alias gcop="git checkout -p"
alias gr="git reset"
alias grh="git reset HEAD^"
alias gst="git stash"
alias gstu="git stash --include-untracked"
alias ga="git add"
alias gap="git add -NpA"
alias gs="git status"
alias gd="git diff"
function ghd {
  $BROWSER $(~/scripts/branch-url)
}

# Kubernetes
alias k="k9s"
alias kc="kubectl"
alias kx="kubectx"
alias kn="kubens"

# Corepack
alias p="corepack pnpm"

# Jira
function jiraForBranch { echo "`git symbolic-ref HEAD --short`" | grep "\w\+-[0-9]\+" -o }
function jt {
  sensible-browser "https://eagleviewcorp.atlassian.net/browse/$(jiraForBranch)"
}

# ls
if haveigot eza
then
  alias ls="eza"
fi
alias l="ls -l"
alias la="ls -la"

# DevContainer
source $HOME/scripts/devcontainer.sh

# Dotfiles
source $HOME/scripts/dotfiles.sh